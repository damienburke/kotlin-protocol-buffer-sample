Based on https://devlach.com/blog/kotlin/guide-to-using-protocol-buffers-with-kotlin